
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Furniture website</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/register.css">
</head>
<body>
    <div class="container-fluid vh-100">
        <div class="row h-100">
            <!-- Left Section -->
            <div class="col-md-6 d-flex align-items-center justify-content-center position-relative">
                <div class="form-container text-center p-4">
                    <h2 class="mb-4">Get Started Now</h2>
                    <form id="signform" method="POST" action="/signup">
                        <div class="mb-3">

                            <div class="mb-3">
                                <label for="name" class="form-label">User Name</label>
                                <input type="name" id="name" name="name" class="form-control" placeholder="Enter your name">
                                <div id="nameError" class="text-danger" style="display:none;">Please enter a valid name.</div>
                            </div>
                            <div class="mb-3">
                                <label for="phone" class="form-label">Phone Number</label>
                                <input type="phone" id="phone" name="phone" class="form-control" placeholder="Enter your phone number">
                                <div id="phoneError" class="text-danger" style="display:none;">Please enter a phone number</div>
                            </div>
                            <label for="email" class="form-label">Email Address</label>
                            <input type="email" id="email" name="email" class="form-control" placeholder="Enter your email">
                            <div id="emailError" class="text-danger" style="display:none;">Please enter a valid email.</div>
                        </div>
                        <div class="mb-3">
                            <label for="password" class="form-label">Password</label>
                            <input type="password" id="password" name="password" class="form-control" placeholder="Enter your password">
                            <div id="passwordError" class="text-danger" style="display:none;">Password must be at least 6 characters long.</div>
                        </div>
                        <div class="mb-3">
                            <label for="confirmPassword" class="form-label">Confirm Password</label>
                            <input type="password" id="confirmPassword" name="confirmPassword" class="form-control" placeholder="Confirm your password" >
                            <div id="confirmPasswordError" class="text-danger" style="display:none;">Passwords do not match.</div>
                        </div>
                       
                        <button type="submit" class="btn btn-primary w-100">Signup</button>
                    </form>
                    <div class="divider my-4">or</div>
                    <div class="d-flex justify-content-around">
                        <a href="/auth/google" class="btn btn-outline-secondary">
                            <img src="https://img.icons8.com/color/20/google-logo.png" alt="Google"> <a href="/auth/google">Sign in with Google</a>
                        </button>
                        </a>
                       
                    </div>
                    <p class="mt-4">Have an account? <a href="http://localhost:3005/signin" class="text-primary">Sign In</a></p>
                </div>
            </div>
           
    </div>




    <script>
          const nameid = document.getElementById("name")
          const phoneid = document.getElementById("phone")
          const emailid = document.getElementById("email")
          const passwordid = document.getElementById("password")
          const confirmPasswordid = document.getElementById("confirmPassword")
            
          const nameError = document.getElementById("nameError")
          const phoneError = document.getElementById("phoneError")
          const emailError = document.getElementById("emailError")
          const passwordError = document.getElementById("passwordError")
          const confirmPasswordError = document.getElementById("confirmPasswordError")

          const signform = document.getElementById("signform")


          function nameValidateChecking(e){
                   
            const namevalue = nameid.value;
            const namepattern = /^[A-Za-z\s]+$/;

            if(namevalue.trim() === ""){
                nameError.style.display = "block";
                nameError.innerHTML = "please enter a valid name";

            }else if (!namepattern.test(namevalue)){
                nameError.style.display = "block";
                nameError.innerHTML = "name can only contain spaces and alphabets"
            }else{
                nameError.style.display = "none";
                nameError.innerHTML="";
            }
          } 


          function emailValidateChecking(e){
             
             const emailvalue = emailid.value;
             const emailpattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;

             if(!emailpattern.test(emailvalue)){
                emailError.style.display ="block";
                emailError.innerHTML="invalid format"
             }else{
                emailError.style.display="none";
                emailError.innerHTML="";
             }

          }

          function phoneValidateChecking(e){

            const phonevalue= phoneid.value;
            const invalidPattern = /^(.)\1{9}$/;
            
            if(phonevalue.trim()===""){
                phoneError.style.display = "block";
                phoneError.innerHTML = "enter valid phone number "
            }else if(phonevalue.length !==10 ){
                phoneError.style.display ="block";
                phoneError.innerHTML = "enter 10 digits"
            }
            else if (invalidPattern.test(phonevalue)) {
        phoneError.style.display = "block";
        phoneError.innerHTML = "Phone number cannot be all the same digit";
    }
            
            else {
                phoneError.style.display="none";
                phoneError.innerHTML="";
            }
          }


          function passwordValidateChecking(e){
            const passwordvalue = passwordid.value;
            const confirmPasswordvalue = confirmPasswordid.value;

            const alpha =/[a-zA-Z]/;
            const digit = /\d/;

            if(passwordvalue.length <8){
                passwordError.style.display = "block";
                passwordError.innerHTML ="should contain atleast 8 characters"
            }else if(!alpha.test(passwordvalue) || !digit.test(passwordvalue)){
                passwordError.style.display ="block";
                passwordError.innerHTML="should contain numbers and alphabets";
            }else {
                passwordError.style.display = "none";
                passwordError.innerHTML ="";
            }
             
            if(passwordvalue !== confirmPasswordvalue){
                confirmPasswordError.style.display ="block";
                confirmPasswordError.innerHTML ="passwords donot match"
            }else{
                confirmPasswordError.style.display = "none";
                confirmPasswordError.innerHTML ="";
            }
          }


          document.addEventListener('DOMContentLoaded',function(){
            signform.addEventListener("submit",function(e){
                

                nameValidateChecking();
                phoneValidateChecking();
                emailValidateChecking();
                passwordValidateChecking();

                if(!nameid || !emailid || !phoneid || !passwordid || !confirmPasswordid 
                || !nameError || !phoneError || !emailError || !passwordError || !confirmPasswordError ||!signform
                ){console.log("all fields are")

                }
                if(nameError.innerHTML ||
                    phoneError.innerHTML ||
                    emailError.innerHTML ||
                    passwordError.innerHTML ||
                    confirmPasswordError.innerHTML
                ){
                    e.preventDefault()
                }
            })
          })

    </script>
   
</body>
</html>
